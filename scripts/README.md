# Scripts ç›®å½•è¯´æ˜

## ğŸ“ æ–‡ä»¶åˆ—è¡¨

- `database_init.sql` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- `database_commands.md` - æ•°æ®åº“æ“ä½œå‘½ä»¤æ‰‹å†Œ ğŸ†•
- `dev.sh` - å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬
- `deploy.sh` - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è„šæœ¬

## æ•°æ®åº“ç›¸å…³

### database_init.sql
**å®Œæ•´çš„æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬**

åŒ…å«å†…å®¹ï¼š
- å®Œæ•´çš„è¡¨ç»“æ„å®šä¹‰ï¼ˆä¸ä»£ç å®ä½“ä¸€è‡´ï¼‰
- åˆå§‹è§’è‰²æ•°æ®ï¼ˆè¶…çº§ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ï¼‰
- åˆå§‹ç”¨æˆ·æ•°æ®ï¼ˆadminã€userï¼‰
- å®Œæ•´çš„æƒé™èœå•æ•°æ®
- è§’è‰²æƒé™åˆ†é…

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
# ä½¿ç”¨ mysqlsh æ‰§è¡Œ
mysqlsh --sql -u root -p -f scripts/database_init.sql

# æˆ–ä½¿ç”¨ mysql å®¢æˆ·ç«¯
mysql -u root -p < scripts/database_init.sql
```

é»˜è®¤è´¦å·ï¼š
- è¶…çº§ç®¡ç†å‘˜ï¼š`admin` / `admin123`
- æ™®é€šç®¡ç†å‘˜ï¼š`manager` / `admin123`
- æ™®é€šç”¨æˆ·ï¼š`user` / `admin123`

### database_commands.md
**æ•°æ®åº“æ“ä½œå‘½ä»¤æ‰‹å†Œ**

åŒ…å«å†…å®¹ï¼š
- å¸¸ç”¨æ•°æ®åº“æ“ä½œå‘½ä»¤é›†åˆ
- ç”¨æˆ·å’Œæƒé™æŸ¥è¯¢å‘½ä»¤
- æ•°æ®åº“è¿æ¥å’Œç®¡ç†å‘½ä»¤
- æ•…éšœæ’æŸ¥å’Œè°ƒè¯•å‘½ä»¤
- æ•°æ®æ¸…ç†å’Œé‡ç½®å‘½ä»¤

å¿«é€Ÿä½¿ç”¨ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
mysqlsh --uri mysql://root:123456@localhost:3306/tradewinds --sql -e "SELECT username, email, real_name FROM users;"

# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
mysqlsh --uri mysql://root:123456@localhost:3306 --sql -f scripts/database_init.sql

# æŸ¥çœ‹ç”¨æˆ·æƒé™
mysqlsh --uri mysql://root:123456@localhost:3306/tradewinds --sql -e "SELECT u.username, r.name FROM users u JOIN user_roles ur ON u.id = ur.user_id JOIN roles r ON ur.role_id = r.id;"
```

## éƒ¨ç½²ç›¸å…³

### deploy.sh
ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è„šæœ¬

åŠŸèƒ½ï¼š
- æ‹‰å–æœ€æ–°ä»£ç 
- æ„å»ºDockeré•œåƒ
- é‡å¯æœåŠ¡
- å¥åº·æ£€æŸ¥

### dev.sh
å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬

åŠŸèƒ½ï¼š
- å¯åŠ¨å¼€å‘ä¾èµ–æœåŠ¡ï¼ˆMySQLã€Redisã€RabbitMQï¼‰
- è®¾ç½®å¼€å‘ç¯å¢ƒå˜é‡
- å¯åŠ¨åº”ç”¨

## æƒé™ç³»ç»Ÿè¯´æ˜

### æƒé™ç±»å‹
- `0` - èœå•æƒé™
- `1` - æŒ‰é’®æƒé™
- `2` - APIæƒé™

### èœå•ç»“æ„
```
è¶…çº§ç®¡ç†å‘˜æ§åˆ¶å° (crown)
â”œâ”€â”€ ç®¡ç†å‘˜ä»ªè¡¨ç›˜ (dashboard)
â”œâ”€â”€ ç³»ç»Ÿç›‘æ§ (monitor)
â”œâ”€â”€ æ•°æ®å¤‡ä»½ (database)
â”œâ”€â”€ ç³»ç»Ÿé…ç½® (setting)
â””â”€â”€ æ“ä½œæ—¥å¿— (file-text)

ç³»ç»Ÿç®¡ç† (setting)
â”œâ”€â”€ ç”¨æˆ·ç®¡ç† (user)
â”œâ”€â”€ è§’è‰²ç®¡ç† (team)
â””â”€â”€ æƒé™ç®¡ç† (lock)
```

### ç»„ä»¶è·¯å¾„æ ¼å¼
é‡‡ç”¨ kebab-case æ ¼å¼ï¼Œä¾¿äºå‰ç«¯åŠ¨æ€å¯¼å…¥ï¼š
- `super-admin/dashboard`
- `super-admin/monitor`
- `system/users`
- `system/roles`

## æ³¨æ„äº‹é¡¹

1. **æ•°æ®åº“å­—ç¬¦é›†**ï¼šä½¿ç”¨ `utf8mb4` æ”¯æŒå®Œæ•´çš„ Unicode
2. **æ—¶åŒºè®¾ç½®**ï¼šç»Ÿä¸€ä½¿ç”¨ UTC æ—¶é—´
3. **å¤–é”®çº¦æŸ**ï¼šå¯ç”¨çº§è”åˆ é™¤ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§
4. **UUIDæ ¼å¼**ï¼šæ‰€æœ‰IDä½¿ç”¨å›ºå®šçš„UUIDæ ¼å¼ä¾¿äºæµ‹è¯•

## ç»´æŠ¤è¯´æ˜

å¦‚éœ€ä¿®æ”¹æƒé™æ•°æ®ï¼Œå»ºè®®ï¼š
1. å¤‡ä»½ç°æœ‰æ•°æ®
2. ä¿®æ”¹ `database_init.sql`
3. é‡æ–°æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬
4. éªŒè¯æƒé™åŠŸèƒ½æ­£å¸¸ 